! Title: Filters - FB - news feed - sponsored (test)
! Description: Block news feed sponsored posts
! License: http://creativecommons.org/licenses/by/3.0/
! Homepage: https://github.com/zbluebugz/filters-fb
! Reporting Issues: https://github.com/zbluebugz/filters-fb/issues
! Language: English
! Last modified: 28 Sept 2022 00:30 UTC
! Expires: 3 days (update frequency)
!
! Legal stuff (T&C's) 
! In no event shall the list author be liable for any indirect, direct, punitive, special, incidental, or consequential damages whatsoever.
! By downloading or viewing, or using this list, you are accepting these terms and the license.
!
! news feed posts collector: span[id="ssrb_feed_start"] ~ div > div
!
! sponsored (news)
! -- clear out hidden elements to enable detection of sponsored posts (news / groups / search)
! --- do not use span[id] - search page doesn't have this. instead, use span[class]
facebook.com##span[id="ssrb_feed_start"] ~ div > div span > span > span > a[href="#"] :matches-css(display: none):remove()
facebook.com##span[id="ssrb_feed_start"] ~ div > div span > span > span > a[href="#"] :matches-css(position: absolute):remove()
facebook.com##span[id="ssrb_feed_start"] ~ div > div span > span > span > a[href*="/ads/"] :matches-css(display: none):remove()
facebook.com##span[id="ssrb_feed_start"] ~ div > div span > span > span > a[href*="/ads/"] :matches-css(position: absolute):remove()
! -- clear out hidden elements to enable detection of sponsored posts (groups / search)
! --- do not use span[id] - search page doesn't have this. instead, use span[class]
facebook.com##[role="feed"] > div span > span > span > a[href="#"] :matches-css(display: none):remove()
facebook.com##[role="feed"] > div span > span > span > a[href="#"] :matches-css(position: absolute):remove()
facebook.com##[role="feed"] > div span > span > span > a[href*="/ads/"] :matches-css(display: none):remove()
facebook.com##[role="feed"] > div span > span > span > a[href*="/ads/"] :matches-css(position: absolute):remove()
! -- clear out hidden elements to enable detection of sponsore posts (Videos)
facebook.com##[id="watch_feed"] > div span > span > a[href="#"] :matches-css(display: none):remove()
facebook.com##[id="watch_feed"] > div span > span > a[href="#"] :matches-css(position: absolute):remove()
facebook.com##[id="watch_feed"] > div span > span > a[href*="/ads/"] :matches-css(display: none):remove()
facebook.com##[id="watch_feed"] > div span > span > a[href*="/ads/"] :matches-css(position: absolute):remove()
! -- clear out hidden elements to allow some of the rules below to work ("Facebook")
facebook.com##div[role="feed"] > div div[data-0]:remove()
!
! -- hide sponsored posts (news / groups / search feed)
! -- שעה אחת = Hebrew for "one hour"; ഒരു മണിക്കൂർ = Malaylam for "one/an hour"
! -- [\u0660-\u0669] = Arabic digits 
! -- [0-9] = ASCII digits
!
! Old rule (all langages)
facebook.com##span[id="ssrb_feed_start"] ~ div > div span > span > span > a[href="#"] > span > span[class] > [style*="display"]:not(:has-text(/(שעה אחת|ഒരു മണിക്കൂർ|[\u0660-\u0669]|[0-9]|^$)/)):upward([role="feed"] > div):style(border:6px dotted red !important; padding: 0 0.25rem; width:66% !important;)
!
!
! - Sept 2022 rule - SVG + Use rule (not exact)
! English
facebook.com##html[lang="en"] span[id="ssrb_feed_start"] ~ div > div > div:not([class]) span[id] > span > span > a[href="#"] span > span > svg:has(use[*|href]:not([href])):matches-css(width:/^(59|60|61|62|63)(\.|p)/i):upward(span[id="ssrb_feed_start"] ~ div > div):style(border:5px dotted pink !important; width:66% !important;)
! Espanol
facebook.com##html[lang="es"] span[id="ssrb_feed_start"] ~ div > div > div:not([class]) span[id] > span > span > a[href="#"] span > span > svg:has(use[*|href]:not([href])):matches-css(width:/^(58|59|60|61|62)(\.|p)/i):upward(span[id="ssrb_feed_start"] ~ div > div):style(border:5px dotted pink !important; width:66% !important;)
! Čeština
facebook.com##html[lang="cs"] span[id="ssrb_feed_start"] ~ div > div > div:not([class]) span[id] > span > span > a[href="#"] span > span > svg:has(use[*|href]:not([href])):matches-css(width:/^(78|79|80|81|82)(\.|p)/i):upward(span[id="ssrb_feed_start"] ~ div > div):style(border:5px dotted pink !important; width:66% !important;)
! Italino
facebook.com##html[lang="it"] span[id="ssrb_feed_start"] ~ div > div > div:not([class]) span[id] > span > span > a[href="#"] span > span > svg:has(use[*|href]:not([href])):matches-css(width:/^(78|79|80|81|82)(\.|p)/i):upward(span[id="ssrb_feed_start"] ~ div > div):style(border:5px dotted pink !important; width:66% !important;)
! Français
facebook.com##html[lang="fr"] span[id="ssrb_feed_start"] ~ div > div > div:not([class]) span[id] > span > span > a[href="#"] span > span > svg:has(use[*|href]:not([href])):matches-css(width:/^(61|62|63|64)(\.|p)/i):upward(span[id="ssrb_feed_start"] ~ div > div):style(border:5px dotted pink !important; width:66% !important;)
! Deutsch
facebook.com##html[lang="de"] span[id="ssrb_feed_start"] ~ div > div > div:not([class]) span[id] > span > span > a[href="#"] span > span > svg:has(use[*|href]:not([href])):matches-css(width:/^(63|64|65|66)(\.|p)/i):upward(span[id="ssrb_feed_start"] ~ div > div):style(border:5px dotted pink !important; width:66% !important;)
! Português
facebook.com##html[lang="pt"] span[id="ssrb_feed_start"] ~ div > div > div:not([class]) span[id] > span > span > a[href="#"] span > span > svg:has(use[*|href]:not([href])):matches-css(width:/^(|66|67|68|69)(\.|p)/i):upward(span[id="ssrb_feed_start"] ~ div > div):style(border:5px dotted pink !important; width:66% !important;)
! Suomi
facebook.com##html[lang="fi"] span[id="ssrb_feed_start"] ~ div > div > div:not([class]) span[id] > span > span > a[href="#"] span > span > svg:has(use[*|href]:not([href])):matches-css(width:/^(|66|67|68|69)(\.|p)/i):upward(span[id="ssrb_feed_start"] ~ div > div):style(border:5px dotted pink !important; width:66% !important;)
! Tiếng Việt (Vietnamese)
facebook.com##html[lang="vi"] span[id="ssrb_feed_start"] ~ div > div > div:not([class]) span[id] > span > span > a[href="#"] span > span > svg:has(use[*|href]:not([href])):matches-css(width:/^(65|66|67|68)(\.|p)/i):upward(span[id="ssrb_feed_start"] ~ div > div):style(border:5px dotted pink !important; width:66% !important;)
! Latviešu
facebook.com##html[lang="lv"] span[id="ssrb_feed_start"] ~ div > div > div:not([class]) span[id] > span > span > a[href="#"] span > span > svg:has(use[*|href]:not([href])):matches-css(width:/^(106|107|108|109|110)(\.|p)/i):upward(span[id="ssrb_feed_start"] ~ div > div):style(border:5px dotted pink !important; width:66% !important;)
! Polski
facebook.com##html[lang="pl"] span[id="ssrb_feed_start"] ~ div > div > div:not([class]) span[id] > span > span > a[href="#"] span > span > svg:has(use[*|href]:not([href])):matches-css(width:/^(81|82|83|84|85)(\.|p)/i):upward(span[id="ssrb_feed_start"] ~ div > div):style(border:5px dotted pink !important; width:66% !important;)
! Türkçe
facebook.com##html[lang="tr"] span[id="ssrb_feed_start"] ~ div > div > div:not([class]) span[id] > span > span > a[href="#"] span > span > svg:has(use[*|href]:not([href])):matches-css(width:/^(56|57|58|59|60)(\.|p)/i):upward(span[id="ssrb_feed_start"] ~ div > div):style(border:5px dotted pink !important; width:66% !important;)
!
!
! -- non-obfuscated version
facebook.com##span[id="ssrb_feed_start"] ~ div > div span > span > span > a[href="#"] > span > span:not([style]) > *:not(:has-text(/(שעה אחת|ഒരു മണിക്കൂർ|[\u0660-\u0669]|[0-9]|^$)/)):upward([role="feed"] > div):style(border:6px dotted firebrick !important; padding: 0 0.25rem; width:66% !important;)
!
!
! sponsored in news feed aside column
facebook.com##div[role="complementary"] span:first-of-type ~ div:first-of-type > div:not([data-visualcompletion]) > span:style(border:6px dotted orange;display:block;)
!
! sponsored * paid for by ...... (news feed)
facebook.com##span[id="ssrb_feed_start"] ~ div > div div:nth-child(2) > div > div:nth-child(2) > span[class] > span[id] > div:nth-child(2):not(>*):upward(div[role="feed"]> div):style(border:6px dotted DeepPink ; padding: 0 0.25rem; width:66% !important;)
!
! paid partnership posts (news feed)
facebook.com##span[id="ssrb_feed_start"] ~ div > div span[dir] > span[id] a[href^="/business/help/"]:upward(div[role="feed"] > div):style(border:6px dotted blue !important; padding: 0 0.25rem; width:66% !important;)
!
